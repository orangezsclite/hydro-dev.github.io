(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{507:function(n,s,e){"use strict";e.r(s);var a=e(2),t=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"编译器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译器"}},[n._v("#")]),n._v(" 编译器")]),n._v(" "),e("p",[n._v("从 2022/8/12 开始，Hydro 为了避免宿主机环境变化对于评测的影响，对于 "),e("strong",[n._v("此后新安装的实例")]),n._v(" 默认使用 "),e("a",{attrs:{href:""}},[n._v("nix")]),n._v(" 管理环境。"),e("br"),n._v("\n如果你是在这之前安装的 Hydro，请使用 apt 安装编译器后使用 "),e("code",[n._v("pm2 restart hydro-sandbox")]),n._v(" 重启沙箱，并忽略本章节。")]),n._v(" "),e("p",[n._v("以下是 nix 的简要操作说明：")]),n._v(" "),e("p",[n._v("使用 "),e("code",[n._v("nix-env -iA nixpkgs.编译器名")]),n._v(" 安装新编译器，后重启沙箱 "),e("code",[n._v("pm2 restart hydro-sandbox")]),n._v(" 生效。")]),n._v(" "),e("p",[n._v("可以在 "),e("a",{attrs:{href:"https://search.nixos.org/packages",target:"_blank",rel:"noopener noreferrer"}},[n._v("Nixos Search"),e("OutboundLink")],1),n._v(" 中搜索你需要的编译器。"),e("br"),n._v("\n以下是常用编译器的示例：")]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[n._v("nix-env -iA nixpkgs.busybox nixpkgs.bash nixpkgs.diffutils nixpkgs.unzip "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 基础组件，已预装，不建议删除")]),n._v("\nnix-env -iA nixpkgs.gcc nixpkgs.fpc "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# C/C++ 和 Pascal，已预装，不建议删除")]),n._v("\nnix-env -iA nixpkgs.ghc "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Haskell ")]),n._v("\nnix-env -iA nixpkgs.rustc "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Rust")]),n._v("\nnix-env -iA nixpkgs.python2 "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Python2")]),n._v("\nnix-env -iA nixpkgs.pythonPackages.numpy "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Python2 Numpy 库")]),n._v("\nnix-env -iA nixpkgs.python3Minimal\nnix-env -iA nixpkgs.python3Packages.numpy\nnix-env -iA nixpkgs.php "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# PHP")]),n._v("\nnix-env -iA nixpkgs.go "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Golang")]),n._v("\nnix-env -iA nixpkgs.nodejs "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# NodeJS")]),n._v("\nnix-env -iA nixpkgs.openjdk_headless "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Java")]),n._v("\nnix-env -iA nixpkgs.ruby "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Ruby")]),n._v("\nnix-env -iA nixpkgs.mono "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# C#")]),n._v("\nnix-env -iA nixpkgs.julia_17-bin "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Julia")]),n._v("\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br")])]),e("p",[n._v("使用 "),e("code",[n._v("nix-env -q")]),n._v(" 查看已安装的列表，后使用 "),e("code",[n._v("nix-env -e 编译器名")]),n._v(" 即可删除对应的编译器。"),e("br"),n._v("\n请注意不要误删 Hydro 基础组件，且操作完成后需要重启沙箱 "),e("code",[n._v("pm2 restart hydro-sandbox")]),n._v(" 生效。")])])}),[],!1,null,null,null);s.default=t.exports}}]);